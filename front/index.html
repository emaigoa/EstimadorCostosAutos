<!doctype html>
<html lang="es-AR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Estimador de precios de autos</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Fix: options del select visibles -->
    <link rel="stylesheet" href="./styles.css" />
  </head>

  <body class="min-h-screen bg-slate-950 text-slate-100">
    <main class="mx-auto max-w-5xl px-4 py-10">
      <section class="rounded-3xl border border-white/10 bg-white/5 p-6 shadow-2xl">
        <header class="mb-6">
          <h1 class="text-xl font-bold tracking-tight">Estimador de precios de autos</h1>
          <p class="mt-1 text-sm text-slate-400">
            Seleccion√° marca/modelo/a√±o, carg√° kms y estim√° el rango.
          </p>
        </header>

        <!-- Error -->
        <div
          id="errBox"
          class="hidden mb-4 whitespace-pre-wrap rounded-2xl border border-red-500/30 bg-red-500/10 p-3 text-sm text-red-200"
        ></div>

        <form id="form" class="space-y-5">
          <div class="grid gap-4 md:grid-cols-3">
            <div>
              <label for="marca" class="mb-1 block text-xs font-medium text-slate-300">Marca *</label>
              <select
                id="marca"
                required
                class="w-full rounded-2xl border border-white/10 bg-slate-900/60 px-3 py-2 text-slate-100 outline-none focus:border-indigo-400/60 focus:ring-4 focus:ring-indigo-500/10"
              >
                <option value="">Cargando marcas...</option>
              </select>
            </div>

            <div>
              <label for="modelo_base" class="mb-1 block text-xs font-medium text-slate-300">Modelo *</label>
              <select
                id="modelo_base"
                required
                class="w-full rounded-2xl border border-white/10 bg-slate-900/60 px-3 py-2 text-slate-100 outline-none focus:border-indigo-400/60 focus:ring-4 focus:ring-indigo-500/10"
              >
                <option value="">Eleg√≠ marca primero</option>
              </select>
            </div>

            <div>
              <label for="anio" class="mb-1 block text-xs font-medium text-slate-300">A√±o *</label>
              <select
                id="anio"
                required
                class="w-full rounded-2xl border border-white/10 bg-slate-900/60 px-3 py-2 text-slate-100 outline-none focus:border-indigo-400/60 focus:ring-4 focus:ring-indigo-500/10"
              >
                <option value="">Eleg√≠ modelo primero</option>
              </select>
              <div id="anioHint" class="mt-1 text-xs text-slate-400"></div>
            </div>

            <div>
              <label for="kms" class="mb-1 block text-xs font-medium text-slate-300">Kil√≥metros *</label>
              <input
                id="kms"
                type="number"
                min="0"
                step="1"
                placeholder="Ej: 120000"
                required
                class="w-full rounded-2xl border border-white/10 bg-slate-900/60 px-3 py-2 text-slate-100 placeholder:text-slate-500 outline-none focus:border-indigo-400/60 focus:ring-4 focus:ring-indigo-500/10"
              />
            </div>

            <div>
              <label for="version_trim" class="mb-1 block text-xs font-medium text-slate-300">Versi√≥n (opcional)</label>
              <select
                id="version_trim"
                class="w-full rounded-2xl border border-white/10 bg-slate-900/60 px-3 py-2 text-slate-100 outline-none focus:border-indigo-400/60 focus:ring-4 focus:ring-indigo-500/10"
              >
                <option value="">(opcional) Eleg√≠ modelo primero</option>
              </select>
            </div>

            <div id="tipoWrap" class="hidden">
              <label for="tipo" class="mb-1 block text-xs font-medium text-slate-300">Tipo (opcional)</label>
              <select
                id="tipo"
                class="w-full rounded-2xl border border-white/10 bg-slate-900/60 px-3 py-2 text-slate-100 outline-none focus:border-indigo-400/60 focus:ring-4 focus:ring-indigo-500/10"
              >
                <option value="">(opcional) Eleg√≠ tipo</option>
              </select>
            </div>

            <div>
              <label for="combustible" class="mb-1 block text-xs font-medium text-slate-300">Combustible (opcional)</label>
              <select
                id="combustible"
                class="w-full rounded-2xl border border-white/10 bg-slate-900/60 px-3 py-2 text-slate-100 outline-none focus:border-indigo-400/60 focus:ring-4 focus:ring-indigo-500/10"
              ></select>
            </div>

            <div>
              <label for="transmision" class="mb-1 block text-xs font-medium text-slate-300">Transmisi√≥n (opcional)</label>
              <select
                id="transmision"
                class="w-full rounded-2xl border border-white/10 bg-slate-900/60 px-3 py-2 text-slate-100 outline-none focus:border-indigo-400/60 focus:ring-4 focus:ring-indigo-500/10"
              ></select>
            </div>

            <div>
              <label for="direccion" class="mb-1 block text-xs font-medium text-slate-300">Direcci√≥n (opcional)</label>
              <select
                id="direccion"
                class="w-full rounded-2xl border border-white/10 bg-slate-900/60 px-3 py-2 text-slate-100 outline-none focus:border-indigo-400/60 focus:ring-4 focus:ring-indigo-500/10"
              ></select>
            </div>
          </div>

          <div class="flex flex-wrap items-center gap-3">
            <label class="inline-flex items-center gap-2 rounded-2xl border border-white/10 bg-white/5 px-3 py-2 text-sm text-slate-200">
              <input id="aireChk" type="checkbox" class="h-4 w-4 accent-indigo-500" />
              Aire Acondicionado
            </label>

            <label class="inline-flex items-center gap-2 rounded-2xl border border-white/10 bg-white/5 px-3 py-2 text-sm text-slate-200">
              <input id="cristalesChk" type="checkbox" class="h-4 w-4 accent-indigo-500" />
              Cristales el√©ctricos
            </label>

            <button
              id="btnSubmit"
              type="submit"
              class="ml-auto rounded-2xl bg-indigo-500/80 px-4 py-2 text-sm font-semibold text-white hover:bg-indigo-500 focus:outline-none focus:ring-4 focus:ring-indigo-500/20 disabled:cursor-not-allowed disabled:opacity-60"
            >
              Estimar
            </button>
          </div>

          <!-- LOADER INLINE (solo al predecir) -->
          <div id="predictLoader" class="hidden pt-2">
            <div class="rounded-3xl border border-white/10 bg-black p-4">
              <div class="text-sm font-semibold text-slate-200">Cargando estimaci√≥n......</div>

              <!-- üëá Tu GIF local -->
              <div class="mt-3 flex items-center justify-center">
                <img
                  src="./assets/loading.gif"
                  alt="Cargando estimaci√≥n"
                  class="w-16 rounded-xl select-none"
                  draggable="false"
                />
                <img
                  src="./assets/loading.gif"
                  alt="Cargando estimaci√≥n"
                  class="w-16 rounded-xl select-none"
                  draggable="false"
                />
                <img
                  src="./assets/loading.gif"
                  alt="Cargando estimaci√≥n"
                  class="w-16 rounded-xl select-none"
                  draggable="false"
                />
              </div>

              <div class="mt-3">
                
                <div class="mt-2 text-[11px] text-center text-slate-500">
                  Si tarda demasiado, prob√° de nuevo (La primera vez siempre tarda m√°s).
                </div>
              </div>
            </div>
          </div>
        </form>

        <!-- Result -->
        <section id="resultWrap" class="hidden mt-6">
          <p class="text-sm text-slate-400">Rango estimado:</p>

          <div class="mt-3 grid gap-4 md:grid-cols-3">
            <div class="rounded-3xl border border-white/10 bg-white/5 p-4">
              <div class="text-xs text-slate-400">Minimo</div>
              <div id="p10" class="mt-2 text-2xl font-extrabold">‚Äî</div>
            </div>
            <div class="rounded-3xl border border-white/10 bg-white/5 p-4">
              <div class="text-xs text-slate-400">Medio</div>
              <div id="p50" class="mt-2 text-2xl font-extrabold">‚Äî</div>
            </div>
            <div class="rounded-3xl border border-white/10 bg-white/5 p-4">
              <div class="text-xs text-slate-400">Maximo</div>
              <div id="p90" class="mt-2 text-2xl font-extrabold">‚Äî</div>
            </div>
          </div>
        </section>
      </section>
    </main>

    <script defer src="./app.js"></script>
  </body>
</html>
